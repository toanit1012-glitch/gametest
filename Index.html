<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>King & Queen of the Year 2025</title>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<style>

.poll-card {
    max-width: 700px;
    margin: 30px auto;
    padding: 24px;

    background: #fff;
    border-radius: 16px;
    box-shadow: 0 10px 25px rgba(0,0,0,.12);
}

/* ===== ROW ===== */
.vote-row {
    display: flex;
    gap: 20px;
}

/* m·ªói b√™n 50% */
.vote-section {
    flex: 1;
    text-align: center;
}

/* OPTION */
.vote-option {
    display: flex;
    align-items: center;
    gap: 10px;

    padding: 10px 14px;
    margin-bottom: 8px;

    border: 2px solid #eee;
    border-radius: 10px;

    cursor: pointer;
    transition: .25s;
}

.vote-option:hover {
    background: #fff8dc;
}

.vote-option input {
    transform: scale(2.3);
}

.vote-option input:checked + span {
    font-weight: 700;
    color: #b8860b;
}

/* NAME */
.name-box {
    margin-top: 20px;
    font-weight: 600;
}

.name-box input {
    width: 100%;
    margin-top: 6px;
    padding: 10px;

    border-radius: 8px;
    border: 1px solid #ccc;
}

/* BUTTON */
.btn-vote {
    width: 100%;
    margin-top: 20px;
    padding: 12px;

    font-size: 18px;
    font-weight: 700;

    background: linear-gradient(90deg,#b8860b,#ffd700);
    border: none;
    border-radius: 12px;

    cursor: pointer;
}

/* ===== MOBILE ===== */
@media (max-width: 640px) {
    .vote-row {
        flex-direction: column;
    }
}



/* ===== WRAP ===== */
.royal-wrap {
    display: flex;
    justify-content: center;
    margin: 30px 0;
}

/* ===== TITLE ===== */
.royal-title {
    position: relative;
    display: flex;
    align-items: center;
    gap: 12px;

    font-size: 34px;
    font-weight: 800;
    letter-spacing: 1.2px;

    background: linear-gradient(
         90deg,
    #6b4f1d,
    #a67c00,
    #d4af37,
    #ffd700,
    #ffd700,
    #d4af37,
    #a67c00,
    #6b4f1d
    );
   background-size: 400% 100%;

    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;

    animation: goldFlow 6s linear infinite;
}

/* ===== GOLD FLOW ===== */
@keyframes goldFlow {
    0% { background-position: 0% 50%; }
    100% { background-position: 100% 50%; }
}

/* ===== ICON ===== */
.royal-title img {
    width: 46px;
    filter: drop-shadow(0 3px 5px rgba(0,0,0,.35));
    transition: transform .3s ease;
}

.royal-title img:hover {
    transform: scale(1.1);
}

/* ===== CROWN FLOAT ===== */
.crown {
    width: 36px;
    animation: crownFloat 2.6s ease-in-out infinite;
}

@keyframes crownFloat {
    0%   { transform: translateY(0); }
    50%  { transform: translateY(-8px); }
    100% { transform: translateY(0); }
}

/* ===== GLOW ===== */
.royal-title::before {
    content: '';
    position: absolute;
    inset: -25px;
    background: radial-gradient(circle, rgba(255,215,0,.25), transparent 65%);
    filter: blur(18px);
    z-index: -1;
}

/* ===== SPARKLE ===== */
.sparkle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: gold;
    border-radius: 50%;
    opacity: 0;
    animation: sparkle 3s infinite ease-in-out;
}

@keyframes sparkle {
    0%   { transform: scale(0); opacity: 0; }
    50%  { transform: scale(1.4); opacity: 1; }
    100% { transform: scale(0); opacity: 0; }
}

.s1 { top: -8px; left: 20%; animation-delay: 0s; }
.s2 { top: 50%; right: 15%; animation-delay: 1s; }
.s3 { bottom: -6px; left: 60%; animation-delay: 2s; }

/* ===== MOBILE ===== */
@media (max-width: 576px) {
    .royal-title {
        font-size: 22px;
        gap: 6px;
    }
    .royal-title img { width: 30px; }
    .crown { width: 26px; }
}

</style>
</head>
<body>

<div class="royal-wrap">
    <h2 class="royal-title center-crown">
        <img src="/king.png" alt="King" class="crown">
        <span>King & Queen</span>
        
        <span>of the Year 2025</span>
        <img src="/crown.png" class="crown" alt="Crown">
        <!-- sparkle -->
        <i class="sparkle s1"></i>
        <i class="sparkle s2"></i>
        <i class="sparkle s3"></i>
    </h2>
</div>
<form id="pollForm" class="poll-card">

    <audio id="voteSound">
        <source src="/audio.mp3" type="audio/mpeg">
    </audio>

    <!-- KING + QUEEN -->
    <div class="vote-row">

        <!-- KING -->
        <div class="vote-section">
            <h3>  <img src="/king.png" alt="King" class="crown"> KING</h3>

            <label class="vote-option">
                <input type="radio" name="king" value="Sao m·ªôc" required>
                <span>Sao m·ªôc</span>
            </label>

            <label class="vote-option">
                <input type="radio" name="king" value="Sao th·ªï">
                <span>Sao th·ªï</span>
            </label>

            <label class="vote-option">
                <input type="radio" name="king" value="Sao kim">
                <span>Sao kim</span>
            </label>
        </div>

        <!-- QUEEN -->
        <div class="vote-section">
            <h3>  <img src="/crown.png" class="crown" alt="Crown"> QUEEN</h3>

            <label class="vote-option">
                <input type="radio" name="queen" value="Sao ho·∫£" required>
                <span>Sao ho·∫£</span>
            </label>

            <label class="vote-option">
                <input type="radio" name="queen" value="Sao h·∫£i v∆∞∆°ng">
                <span>Sao h·∫£i v∆∞∆°ng</span>
            </label>

            <label class="vote-option">
                <input type="radio" name="queen" value="Sao thi√™n v∆∞∆°ng">
                <span>Sao thi√™n v∆∞∆°ng</span>
            </label>
        </div>

    </div>

    <!-- NAME -->
    <div class="name-box">
        üë§ T√™n ng∆∞·ªùi g·ª≠i
        <input type="text" name="sender" id="id-user"
               placeholder="Vui l√≤ng nh·∫≠p ƒë√∫ng H·ªç & T√™n" required>
    </div>

    <button type="submit" class="btn-vote">
        üéâ G·ª≠i b√¨nh ch·ªçn
    </button>

</form>


<hr>
<div class="toast-container position-fixed top-0 end-0 p-3">
    <div id="voteToast" class="toast align-items-center text-bg-success border-0">
        <div class="d-flex">
            <div class="toast-body" id="toastText">
                <!-- text s·∫Ω set b·∫±ng JS -->
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto"
                    data-bs-dismiss="toast"></button>
        </div>
    </div>
</div>




<script>
let kingChart, queenChart;
const API = "https://tri-viet.com.vn/User"; // ƒë·ªïi n·∫øu c·∫ßn



$('#pollForm').submit(function (e) {
    e.preventDefault();

    $.ajax({
        url: API + "/SubmitVote",
        method: "POST",
        data: $(this).serialize(),
        success: function (res) {

        const audio = document.getElementById("voteSound");
            audio.currentTime = 0;
            audio.play();

            document.getElementById("toastText").innerHTML =
                `üéâ <b>${$("#id-user").val()}</b> ƒë√£ b√¨nh ch·ªçn th√†nh c√¥ng!`;

            const toastEl = document.getElementById('voteToast');
            const toast = new bootstrap.Toast(toastEl, { delay: 2500 });
            toast.show(); 
              
            $('#pollForm')[0].reset();
        }
    });
});

// loadResults();
</script>

</body>
</html>
